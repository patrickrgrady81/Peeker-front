(this["webpackJsonppeeker-front"]=this["webpackJsonppeeker-front"]||[]).push([[0],{13:function(e,t,a){},25:function(e,t,a){e.exports=a(56)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),c=a.n(s),o=(a(30),a(1)),l=a(2),u=a(4),i=a(3),d=(a(31),a(13),a(32),a(33),a(34),a(35),a(36),a(37),a(11)),p=a(23),m=a(6),h=a.n(m),f=a(8),b=a(24),v=a.n(b),E=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(){"DEAL"===n.props.gameState&&n.state.held&&n.setState({held:!1})},n.showCards=function(){var e;return"START"===n.props.gameState?(e="/img/cards/blue_back.png",r.a.createElement("div",{className:"cardWrapper"},r.a.createElement("img",{className:"card",src:e,alt:"card"}),r.a.createElement("button",{onClick:n.holdButton,key:null,id:null,className:n.state.class},"READY"))):(e=n.props.card.image,r.a.createElement("div",{className:"cardWrapper"},r.a.createElement("img",{className:"card",src:e,alt:"card"}),r.a.createElement("button",{onClick:n.holdButton,key:n.props.card.id,id:n.props.card.id,className:n.state.class},n.state.held?"HOLDING":"HOLD")))},n.holdButton=function(){"DRAW"===n.props.gameState&&(n.props.card.held=!n.props.card.held,n.setState((function(e){return{held:!n.state.held}})))},n.state={held:!1,class:"card-btn"},n}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.showCards())}}]),a}(n.Component),y=function e(t,a,n){Object(o.a)(this,e),this.v=t,this.s=a,this.i=n,this.image="img/cards/".concat(this.v).concat(this.s,".png"),this.id="".concat(this.v.toLowerCase()).concat(this.s.toLowerCase()),this.held=!1},k=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"createDeck",value:function(){for(var e=[],t=["H","D","C","S"],a=["A","2","3","4","5","6","7","8","9","T","J","Q","K"],n=[1,2,3,4,5,6,7,8,9,10,11,12,13],r=0;r<t.length;r++)for(var s=0;s<a.length;s++)e.push(new y(a[s],t[r],n[s]));return e}},{key:"shuffleDeck",value:function(e){for(var t=0;t<e.length;t++){var a=Math.floor(Math.random()*e.length),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}}}]),e}(),N=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a),(e=t.call(this)).minmaxClicked=function(){var t=Object(f.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("DRAW"===e.props.gameState){t.next=4;break}return t.next=3,e.props.updateBet(a);case 3:e.play();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.start=function(){var e=new k,t=e.createDeck();return e.shuffleDeck(t),t},e.showCards=function(){for(var t,a=[],n=0;n<5;n++)t=e.state.hand[n]?e.state.hand[n]:null,a.push(r.a.createElement("li",{key:n},r.a.createElement(E,{card:t,gameState:e.props.gameState})));return a},e.sendHand=Object(f.a)(h.a.mark((function t(){var a,n,r,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.request({url:"http://localhost:3001/api/v1/send",method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{hand:e.state.hand,deck:e.state.deck,gameState:e.props.gameState,bet:e.props.bet}});case 2:if(a=t.sent,n=a.data.handValue,r=a.data.payout,!a.data.odds){t.next=10;break}return s=a.data.odds,t.next=9,e.props.updateOdds(s);case 9:console.log(s);case 10:return t.next=12,e.props.updateHandValue(n);case 12:return t.next=14,e.props.updateCredits(r);case 14:return t.next=16,e.props.updatePayout(r);case 16:case"end":return t.stop()}}),t)}))),e.inject=function(){var t=[new y("A","S",1),new y("K","S",13),new y("Q","S",12),new y("J","S",11),new y("T","S",10)];e.setState({hand:t})},e.play=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("START"!==e.props.gameState&&"DEAL"!==e.props.gameState){t.next=8;break}return t.next=3,e.getCards();case 3:return e.injectCards&&e.inject(),t.next=6,e.props.updateGameState("DRAW");case 6:t.next=15;break;case 8:return t.next=10,e.getNewHand();case 10:return t.next=12,e.props.updateOdds([0]);case 12:return e.injectCards&&e.inject(),t.next=15,e.props.updateGameState("DEAL");case 15:e.sendHand();case 16:case"end":return t.stop()}}),t)}))),e.getCards=Object(f.a)(h.a.mark((function t(){var a,n,r,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.updateCredits(-e.props.bet),a=e.start(),n=a.slice(0,5),r=Object(p.a)(n);try{for(r.s();!(s=r.n()).done;)s.value.held=!1}catch(c){r.e(c)}finally{r.f()}a=a.slice(5),e.setState((function(e){return{deck:a,hand:n}}));case 7:case"end":return t.stop()}}),t)}))),e.getNewHand=Object(f.a)(h.a.mark((function t(){var a,n,r,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=Object(d.a)(e.state.hand),n=Object(d.a)(e.state.deck),r=0;r<a.length;r++)a[r].held||(s=n[r],a.splice(r,1,s));e.setState((function(e){return{deck:n,hand:a}}));case 4:case"end":return t.stop()}}),t)})));var n=e.start();return e.state={deck:n,hand:[]},e.injectCards=!1,e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"wrapper table"},r.a.createElement("ul",{className:"noBullet cards"},this.showCards()),r.a.createElement("div",{className:"buttonDiv"},r.a.createElement("button",{className:"draw-btn",onClick:function(){e.minmaxClicked(1)}},"BET ONE"),r.a.createElement("button",{className:"draw-btn",onClick:this.play},this.props.gameState),r.a.createElement("button",{className:"draw-btn",onClick:function(){e.minmaxClicked(5)}},"BET MAX")))}}]),a}(n.Component),O=a(7),g=["Royal Flush","Straight Flush","Four of a Kind","Full House","Flush","Straight","Three of a Kind","Two Pair","Jacks or Better"],j=1661102543100,C=[0,Object(O.sprintf)("%1.6f",41126022/j*100),Object(O.sprintf)("%1.6f",181573608/j*100),Object(O.sprintf)("%1.6f",3924430647/j*100),Object(O.sprintf)("%1.6f",1.151220733628651),Object(O.sprintf)("%1.6f",1.101451096803152),Object(O.sprintf)("%1.6f",1.1229367241343788),Object(O.sprintf)("%1.6f",7.444869857113639),Object(O.sprintf)("%1.6f",12.927890248017764),Object(O.sprintf)("%1.6f",21.458503112564404)],S=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).getOdds=function(t){return e.props.odds[0]>0?e.props.odds[t]:C[t]},e.show=function(){return r.a.createElement("div",null,g.map((function(e,t){return r.a.createElement("p",{key:t,className:"hand"},e," = ")})))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"odds"},r.a.createElement("h3",{className:"oddsHead"},"Odds"),g.map((function(t,a){return r.a.createElement("p",{key:a,className:"odd"},"".concat(t," = ").concat(e.getOdds(a+1),"%"))})))}}]),a}(n.Component),w=[["Credits","Royal Flush","Straight Flush","Four of a Kind","Full House","Flush","Straight","Three of a Kind","Two Pair","Jacks or Better"],[1,250,50,25,9,6,4,3,2,1],[2,500,100,50,18,12,8,6,4,2],[3,750,150,75,27,18,12,9,6,3],[4,1e3,200,100,36,24,16,12,8,4],[5,4e3,250,125,45,30,20,15,10,5]],x=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getClassName=function(t){return t===e.props.bet?"active":"payTableCol"},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"payouts"},r.a.createElement("h3",{className:"paytable"},"Pay Table"),r.a.createElement("table",{className:"pay"},r.a.createElement("thead",null,r.a.createElement("tr",null,w.map((function(t,a){return r.a.createElement("th",{key:a,className:e.getClassName(a)},t[0])})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,w.map((function(t,a){return r.a.createElement("td",{key:a,className:e.getClassName(a)},t[1])}))),r.a.createElement("tr",null,w.map((function(t,a){return r.a.createElement("td",{key:a,className:e.getClassName(a)},t[2])}))),r.a.createElement("tr",null,w.map((function(t,a){return r.a.createElement("td",{key:a,className:e.getClassName(a)},t[3])}))),r.a.createElement("tr",null,w.map((function(t,a){return r.a.createElement("td",{key:a,className:e.getClassName(a)},t[4])}))),r.a.createElement("tr",null,w.map((function(t,a){return r.a.createElement("td",{key:a,className:e.getClassName(a)},t[5])}))),r.a.createElement("tr",null,w.map((function(t,a){return r.a.createElement("td",{key:a,className:e.getClassName(a)},t[6])}))),r.a.createElement("tr",null,w.map((function(t,a){return r.a.createElement("td",{key:a,className:e.getClassName(a)},t[7])}))),r.a.createElement("tr",null,w.map((function(t,a){return r.a.createElement("td",{key:a,className:e.getClassName(a)},t[8])}))),r.a.createElement("tr",null,w.map((function(t,a){return r.a.createElement("td",{key:a,className:e.getClassName(a)},t[9])}))))))}},{key:"showPayTable",value:function(){}}]),a}(n.Component),A=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).minus=function(){e.props.bet>1&&e.props.updateBet(e.props.bet-1)},e.plus=function(){e.props.bet<5&&e.props.updateBet(e.props.bet+1)},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"credits"},r.a.createElement("h1",{className:"credits-header"},"Credits: ",this.props.credits),r.a.createElement("h2",{className:"bet"},"Current Bet"),r.a.createElement("div",{className:"betGroup"},r.a.createElement("button",{className:"bordered",onClick:this.minus},"-"),r.a.createElement("input",{readOnly:!0,type:"text",className:"bordered",value:this.props.bet}),r.a.createElement("button",{className:"bordered",onClick:this.plus},"+")))}}]),a}(n.Component),B=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e;return"DEAL"===this.props.gameState&&(e=this.props.payout>0?"You Win ".concat(this.props.payout," Credits"):"Nice Try, Please Play Again"),r.a.createElement("div",{className:"currentHand"},r.a.createElement("h1",{className:"hand"},this.props.handValue),"\n",r.a.createElement("h1",{className:"payMsg"},e))}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"bestPlays"})}}]),a}(n.Component),D=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).updateCredits=function(t){e.setState({credits:e.state.credits+t})},e.updateBet=function(t){e.setState({bet:t})},e.updateGameState=function(t){e.setState({gameState:t})},e.updateHandValue=function(t){e.setState({handValue:t})},e.updatePayout=function(t){e.setState({payout:t})},e.updateOdds=function(t){e.setState({odds:t})},e.state={credits:100,bet:1,gameState:"START",handValue:"",intHandValue:0,payout:0,odds:[0]},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",{className:"peeker"},"Peeker"),r.a.createElement("div",{className:"comWrapper"},r.a.createElement(S,{className:"o",odds:this.state.odds}),r.a.createElement(N,{className:"t",credits:this.state.credits,bet:this.state.bet,gameState:this.state.gameState,updateCredits:this.updateCredits,updateBet:this.updateBet,updateGameState:this.updateGameState,updateHandValue:this.updateHandValue,updatePayout:this.updatePayout,updateOdds:this.updateOdds}),r.a.createElement(x,{className:"p",bet:this.state.bet}),r.a.createElement(A,{className:"c",credits:this.state.credits,bet:this.state.bet,updateCredits:this.updateCredits,updateBet:this.updateBet}),r.a.createElement(B,{className:"ch",handValue:this.state.handValue,payout:this.state.payout,gameState:this.state.gameState}),r.a.createElement(T,{className:"bp"})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.739024ac.chunk.js.map